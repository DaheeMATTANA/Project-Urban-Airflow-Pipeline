version: 2

models:
  - name: int_transport_disruption_aggregated
    description: "Table summarizing active transport disruptions by date."
    columns:
      - name: date_cet
        description: "Date of disruption in CET/CEST"
        data_type: date
        tests:
          - not_null
          - unique

      - name: num_active_disruptions
        description: "Number of distinct disruptions active that day."
        data_type: integer

      - name: num_planned_disruptions
        description: "Number of planned disruptions for the given day."
        data_type: integer

      - name: median_disruption_duration
        description: |
          Median duration (in hours or days) of active disruptions that day.
          Excluding disruptions that are persistent.
        data_type: interval

      - name: num_short_disruptions
        description: "Active disruptions shorter than 1 hour."
        data_type: integer

      - name: num_medium_disruptions
        description: "Active disruptions lasting between 1 hour and 23h59."
        data_type: integer

      - name: num_long_disruptions
        description: "Active disruptions lasting between 1 and 7 days."
        data_type: integer

      - name: num_extended_disruptions
        description: "Active disruptions lasting between 7 and 30 days."
        data_type: integer

      - name: num_persistent_disruptions
        description: "Active disruptions lasting more than 30 days."
        data_type: integer

      - name: num_construction_disruptions
        description: "Number of events caused by construction work."
        data_type: integer

      - name: num_incident_disruptions
        description: "Number of events caused by incidents issues including those classified as 'information'."
        data_type: integer

      - name: num_blocking_disruptions
        description: "Number of events that fully stopped service."
        data_type: integer

      - name: num_delayed_disruptions
        description: "Number of events that caused delays, including those classified as 'information'."
        data_type: integer

